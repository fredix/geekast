<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>QXmpp: QXmppRosterManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>QXmppRosterManager Class Reference<br/>
<small>
[<a class="el" href="group__Managers.html">Managers</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="QXmppRosterManager" --><!-- doxytag: inherits="QXmppClientExtension" -->
<p>The <a class="el" href="classQXmppRosterManager.html" title="The QXmppRosterManager class provides access to a connected client&#39;s roster.">QXmppRosterManager</a> class provides access to a connected client's roster.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="QXmppRosterManager_8h_source.html">QXmppRosterManager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for QXmppRosterManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classQXmppRosterManager.png" usemap="#QXmppRosterManager_map" alt=""/>
  <map id="QXmppRosterManager_map" name="QXmppRosterManager_map">
<area href="classQXmppClientExtension.html" alt="QXmppClientExtension" shape="rect" coords="0,56,141,80"/>
<area href="classQXmppLoggable.html" alt="QXmppLoggable" shape="rect" coords="0,0,141,24"/>
</map>
</div>

<p><a href="classQXmppRosterManager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="signals"></a>
Signals</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppRosterManager.html#a978cf900248b0ef144460bb52052ded8">rosterReceived</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac95dd87aaa2c4cb61aa6ead2a17bc56e"></a><!-- doxytag: member="QXmppRosterManager::presenceChanged" ref="ac95dd87aaa2c4cb61aa6ead2a17bc56e" args="(const QString &amp;bareJid, const QString &amp;resource)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppRosterManager.html#ac95dd87aaa2c4cb61aa6ead2a17bc56e">presenceChanged</a> (const QString &amp;bareJid, const QString &amp;resource)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This signal is emitted when the presence of a particular bareJid and resource changes. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e3f7d6b9cd9fc16d2bb998c7d1421f3"></a><!-- doxytag: member="QXmppRosterManager::rosterChanged" ref="a8e3f7d6b9cd9fc16d2bb998c7d1421f3" args="(const QString &amp;bareJid)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppRosterManager.html#a8e3f7d6b9cd9fc16d2bb998c7d1421f3">rosterChanged</a> (const QString &amp;bareJid)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This signal is emitted when the roster entry of a particular bareJid changes. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa96bd124e15813b402bc1de93f9e4f7b"></a><!-- doxytag: member="QXmppRosterManager::QXmppRosterManager" ref="aa96bd124e15813b402bc1de93f9e4f7b" args="(QXmppClient *stream)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppRosterManager.html#aa96bd124e15813b402bc1de93f9e4f7b">QXmppRosterManager</a> (<a class="el" href="classQXmppClient.html">QXmppClient</a> *stream)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructs a roster manager. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppRosterManager.html#a9c1d1d3c6f690f2606824bcbc82c9730">isRosterReceived</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QStringList&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppRosterManager.html#ae47698bf12ecb996462a0c9073544043">getRosterBareJids</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQXmppRosterIq_1_1Item.html">QXmppRosterIq::Item</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppRosterManager.html#a012371e276be651027c0c54dabfbaa28">getRosterEntry</a> (const QString &amp;bareJid) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppRosterManager.html#a6430a5208a63367b61ca86c0221c6473">removeRosterEntry</a> (const QString &amp;bareJid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QStringList&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppRosterManager.html#abdb8e62b81edc1ec05257ecc78e3a35f">getResources</a> (const QString &amp;bareJid) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QMap&lt; QString, <a class="el" href="classQXmppPresence.html">QXmppPresence</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppRosterManager.html#a7c8e79674248ee29c1ffe6693999c547">getAllPresencesForBareJid</a> (const QString &amp;bareJid) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQXmppPresence.html">QXmppPresence</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppRosterManager.html#a107478c6ce7bd34dc07348f3acea6d91">getPresence</a> (const QString &amp;bareJid, const QString &amp;resource) const </td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The <a class="el" href="classQXmppRosterManager.html" title="The QXmppRosterManager class provides access to a connected client&#39;s roster.">QXmppRosterManager</a> class provides access to a connected client's roster. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>It's object should not be created using it's constructor. Instead <a class="el" href="classQXmppClient.html#a6a0bb409bad66a4f5ea91056ee190ad4">QXmppClient::rosterManager()</a> should be used to get the reference of instantiated object this class.</dd></dl>
<p>It stores all the Roster and Presence details of all the roster entries (that is all the bareJids) in the client's friend's list. It provides the functionality to get all the bareJids in the client's roster and Roster and Presence details of the same.</p>
<p>After the successful xmpp connection that after the signal <a class="el" href="classQXmppClient.html#a46e84c5280564cdc2d60307309f97b92">QXmppClient::connected()</a> is emitted QXmpp requests for getting the roster. Once QXmpp receives the roster the signal <a class="el" href="classQXmppRosterManager.html#a978cf900248b0ef144460bb52052ded8">QXmppRosterManager::rosterReceived()</a> is emitted and after that user can use the functions of this class to get roster entries.</p>
<p>Function <a class="el" href="classQXmppRosterManager.html#a9c1d1d3c6f690f2606824bcbc82c9730">QXmppRosterManager::isRosterReceived()</a> tells whether the roster has been received or not.</p>
<p>Signals <a class="el" href="classQXmppRosterManager.html#ac95dd87aaa2c4cb61aa6ead2a17bc56e" title="This signal is emitted when the presence of a particular bareJid and resource changes.">presenceChanged()</a> or <a class="el" href="classQXmppRosterManager.html#a8e3f7d6b9cd9fc16d2bb998c7d1421f3" title="This signal is emitted when the roster entry of a particular bareJid changes.">rosterChanged()</a> are emitted whenever presence or roster changes respectively. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7c8e79674248ee29c1ffe6693999c547"></a><!-- doxytag: member="QXmppRosterManager::getAllPresencesForBareJid" ref="a7c8e79674248ee29c1ffe6693999c547" args="(const QString &amp;bareJid) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMap&lt; QString, <a class="el" href="classQXmppPresence.html">QXmppPresence</a> &gt; QXmppRosterManager::getAllPresencesForBareJid </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>bareJid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get all the presences of all the resources of the given bareJid. A bareJid can have multiple resources and each resource will have a presence associated with it.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bareJid</em>&nbsp;</td><td>as a QString </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Map of resource and its respective presence QMap&lt;QString, QXmppPresence&gt; </dd></dl>

</div>
</div>
<a class="anchor" id="a107478c6ce7bd34dc07348f3acea6d91"></a><!-- doxytag: member="QXmppRosterManager::getPresence" ref="a107478c6ce7bd34dc07348f3acea6d91" args="(const QString &amp;bareJid, const QString &amp;resource) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQXmppPresence.html">QXmppPresence</a> QXmppRosterManager::getPresence </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>bareJid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>resource</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the presence of the given resource of the given bareJid.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bareJid</em>&nbsp;</td><td>as a QString </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>resource</em>&nbsp;</td><td>as a QString </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classQXmppPresence.html" title="The QXmppPresence class represents an XMPP presence stanza.">QXmppPresence</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abdb8e62b81edc1ec05257ecc78e3a35f"></a><!-- doxytag: member="QXmppRosterManager::getResources" ref="abdb8e62b81edc1ec05257ecc78e3a35f" args="(const QString &amp;bareJid) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QStringList QXmppRosterManager::getResources </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>bareJid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get all the associated resources with the given bareJid.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bareJid</em>&nbsp;</td><td>as a QString </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>list of associated resources as a QStringList </dd></dl>

</div>
</div>
<a class="anchor" id="ae47698bf12ecb996462a0c9073544043"></a><!-- doxytag: member="QXmppRosterManager::getRosterBareJids" ref="ae47698bf12ecb996462a0c9073544043" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QStringList QXmppRosterManager::getRosterBareJids </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function to get all the bareJids present in the roster.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>QStringList list of all the bareJids </dd></dl>

</div>
</div>
<a class="anchor" id="a012371e276be651027c0c54dabfbaa28"></a><!-- doxytag: member="QXmppRosterManager::getRosterEntry" ref="a012371e276be651027c0c54dabfbaa28" args="(const QString &amp;bareJid) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQXmppRosterIq_1_1Item.html">QXmppRosterIq::Item</a> QXmppRosterManager::getRosterEntry </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>bareJid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the roster entry of the given bareJid. If the bareJid is not in the database and empty <a class="el" href="classQXmppRosterIq_1_1Item.html" title="The QXmppRosterIq::Item class represents a roster entry.">QXmppRosterIq::Item</a> will be returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bareJid</em>&nbsp;</td><td>as a QString </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9c1d1d3c6f690f2606824bcbc82c9730"></a><!-- doxytag: member="QXmppRosterManager::isRosterReceived" ref="a9c1d1d3c6f690f2606824bcbc82c9730" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool QXmppRosterManager::isRosterReceived </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function to check whether the roster has been received or not.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if roster received else false </dd></dl>

</div>
</div>
<a class="anchor" id="a6430a5208a63367b61ca86c0221c6473"></a><!-- doxytag: member="QXmppRosterManager::removeRosterEntry" ref="a6430a5208a63367b61ca86c0221c6473" args="(const QString &amp;bareJid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QXmppRosterManager::removeRosterEntry </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>bareJid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes a roster entry and cancels subscriptions to and from the contact.</p>
<p>As a result, the server will initiate a roster push, causing the <a class="el" href="classQXmppRosterManager.html#a8e3f7d6b9cd9fc16d2bb998c7d1421f3" title="This signal is emitted when the roster entry of a particular bareJid changes.">rosterChanged()</a> signal to be emitted.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bareJid</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a978cf900248b0ef144460bb52052ded8"></a><!-- doxytag: member="QXmppRosterManager::rosterReceived" ref="a978cf900248b0ef144460bb52052ded8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QXmppRosterManager::rosterReceived </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This signal is emitted when the Roster IQ is received after a successful connection. That is the roster entries are empty before this signal is emitted. One should use <a class="el" href="classQXmppRosterManager.html#ae47698bf12ecb996462a0c9073544043">getRosterBareJids()</a> and <a class="el" href="classQXmppRosterManager.html#a012371e276be651027c0c54dabfbaa28">getRosterEntry()</a> only after this signal has been emitted. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="QXmppRosterManager_8h_source.html">QXmppRosterManager.h</a></li>
<li>QXmppRosterManager.cpp</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
